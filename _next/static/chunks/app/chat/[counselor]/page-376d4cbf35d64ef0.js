(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[326],{285:(e,t,r)=>{"use strict";r.d(t,{$:()=>d});var s=r(5155),a=r(2115),n=r(4624),l=r(2085),i=r(9434);let o=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,t)=>{let{className:r,variant:a,size:l,asChild:d=!1,...c}=e,u=d?n.DX:"button";return(0,s.jsx)(u,{className:(0,i.cn)(o({variant:a,size:l,className:r})),ref:t,...c})});d.displayName="Button"},1609:(e,t,r)=>{"use strict";r.d(t,{ChatInterface:()=>y});var s=r(5155),a=r(2115),n=r(5695),l=r(5605),i=r(285),o=r(2523),d=r(6695),c=r(2085),u=r(9434);let m=(0,c.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function x(e){let{className:t,variant:r,...a}=e;return(0,s.jsx)("div",{className:(0,u.cn)(m({variant:r}),t),...a})}var p=r(1366),f=r(5169),g=r(2486),h=r(3473),b=r(2731);let v=e=>e.toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit",hour12:!0});function y(e){let{counselorType:t}=e,r=(0,n.useRouter)(),[c,u]=(0,a.useState)(""),m=(0,a.useRef)(null),{messages:y,input:N,handleInputChange:j,handleSubmit:w,isLoading:C}=(0,l.Y_)({api:"/api/chat",body:{counselorType:t,userName:c}}),k=h.c.find(e=>e.id===t),D=(null==k?void 0:k.icon)||p.A;if((0,a.useEffect)(()=>{let e=localStorage.getItem("userName");e?u(e):r.push("/")},[r]),(0,a.useEffect)(()=>{var e;null==(e=m.current)||e.scrollIntoView({behavior:"smooth"})},[y]),!k||!c)return(0,s.jsx)(b.k,{});let S=[],R=null;if(0===y.length&&k){let e=new Date;S.push({type:"date-separator",date:e,key:"date-".concat(e.toDateString())}),S.push({type:"greeting",content:k.greeting(c),timestamp:e,key:"greeting"}),R=e}return y.forEach(e=>{let t,r=e.createdAt||new Date;R&&(t=R,r.toDateString()===t.toDateString())||S.push({type:"date-separator",date:r,key:"date-".concat(r.toDateString())}),S.push({type:"message",role:e.role,content:e.content,timestamp:r,key:e.id,id:e.id}),R=r}),(0,s.jsx)("div",{className:"min-h-screen bg-neutral-50",children:(0,s.jsxs)("div",{className:"container max-w-4xl px-6 py-8 mx-auto",children:[(0,s.jsx)(d.Zp,{className:"mb-8 bg-white shadow-sm border-neutral-200 rounded-3xl",children:(0,s.jsxs)(d.aR,{className:"pb-6",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsxs)(i.$,{variant:"ghost",onClick:()=>r.push("/counselors"),className:"flex items-center gap-3 px-6 py-3 hover:bg-neutral-100 rounded-3xl",children:[(0,s.jsx)(f.A,{className:"w-5 h-5"}),"상담사 변경"]}),(0,s.jsx)(x,{variant:"secondary",className:"px-6 py-2 text-green-700 border-green-200 rounded-full bg-green-50",children:"상담 진행 중"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-6 py-3",children:[(0,s.jsx)("div",{className:"w-16 h-16 ".concat(k.color," rounded-3xl flex items-center justify-center"),children:(0,s.jsx)(D,{className:"w-8 h-8 text-white"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)(d.ZB,{className:"mb-1 text-2xl font-semibold text-neutral-900",children:k.name}),(0,s.jsx)("p",{className:"text-neutral-600",children:k.title}),(0,s.jsxs)("div",{className:"flex items-center mt-2",children:[(0,s.jsx)("div",{className:"w-2 h-2 mr-3 bg-green-500 rounded-full animate-pulse"}),(0,s.jsx)("span",{className:"text-sm font-medium text-green-600",children:"온라인"})]})]})]})]})}),(0,s.jsx)(d.Zp,{className:"mb-8 overflow-hidden bg-white shadow-sm border-neutral-200 rounded-3xl",children:(0,s.jsx)(d.Wu,{className:"p-0",children:(0,s.jsxs)("div",{className:"h-[70vh] overflow-y-auto p-8 space-y-6",children:[S.map((e,t)=>"date-separator"===e.type?(0,s.jsx)("div",{className:"flex justify-center my-8",children:(0,s.jsx)("div",{className:"px-4 py-2 rounded-full bg-neutral-100",children:(0,s.jsx)("span",{className:"text-xs font-medium text-neutral-500",children:(e=>{let t=new Date,r=new Date(t);return(r.setDate(r.getDate()-1),e.toDateString()===t.toDateString())?"오늘":e.toDateString()===r.toDateString()?"어제":e.toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"})})(e.date)})})},e.key):"greeting"===e.type?(0,s.jsx)("div",{className:"flex justify-start animate-fade-in-up",children:(0,s.jsxs)("div",{className:"max-w-lg",children:[(0,s.jsx)("div",{className:"".concat(k.lightColor," rounded-3xl rounded-bl-sm px-6 py-3 shadow-sm"),children:(0,s.jsx)("p",{className:"leading-relaxed text-neutral-800",children:e.content})}),(0,s.jsxs)("div",{className:"flex items-center gap-3 mt-1",children:[(0,s.jsx)("p",{className:"text-sm text-neutral-500",children:k.name}),(0,s.jsx)("p",{className:"text-xs text-neutral-400",children:v(e.timestamp)})]})]})},e.key):(0,s.jsx)("div",{className:"flex animate-fade-in-up ".concat("user"===e.role?"justify-end":"justify-start"),style:{animationDelay:"".concat(.05*t,"s")},children:(0,s.jsxs)("div",{className:"flex flex-col max-w-lg ".concat("user"===e.role?"items-end":"items-start"),children:[(0,s.jsx)("div",{className:"rounded-3xl px-6 py-3 shadow-sm ".concat("user"===e.role?"bg-neutral-900 text-white rounded-br-sm":"".concat(k.lightColor," rounded-3xl rounded-bl-sm px-6 py-3 shadow-sm")),children:(0,s.jsx)("p",{className:"leading-relaxed whitespace-pre-wrap",children:e.content})}),(0,s.jsxs)("div",{className:"flex items-center gap-3 mt-1",children:[(0,s.jsx)("p",{className:"text-sm text-neutral-500",children:"user"===e.role?c:k.name}),(0,s.jsx)("p",{className:"text-xs text-neutral-400",children:v(e.timestamp)})]})]})},e.key)),C&&(0===y.length||"user"===y[y.length-1].role)&&(0,s.jsx)("div",{className:"flex justify-start animate-fade-in-up",children:(0,s.jsxs)("div",{className:"max-w-lg",children:[(0,s.jsx)("div",{className:"".concat(k.lightColor," rounded-3xl rounded-bl-sm px-6 py-3 shadow-sm"),children:(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsxs)("div",{className:"flex space-x-1",children:[(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-neutral-400 animate-bounce"}),(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-neutral-400 animate-bounce",style:{animationDelay:"0.1s"}}),(0,s.jsx)("div",{className:"w-2 h-2 rounded-full bg-neutral-400 animate-bounce",style:{animationDelay:"0.2s"}})]}),(0,s.jsx)("span",{className:"text-sm text-neutral-500",children:"답변을 작성하고 있습니다"})]})}),(0,s.jsxs)("div",{className:"flex items-center gap-3 mt-1",children:[(0,s.jsx)("p",{className:"text-sm text-neutral-500",children:k.name}),(0,s.jsx)("p",{className:"text-xs text-neutral-400",children:v(new Date)})]})]})}),(0,s.jsx)("div",{ref:m})]})})}),(0,s.jsx)(d.Zp,{className:"bg-white shadow-sm border-neutral-200 rounded-3xl",children:(0,s.jsxs)(d.Wu,{className:"p-8",children:[(0,s.jsxs)("form",{onSubmit:e=>{e.preventDefault(),N.trim()&&!C&&w(e)},className:"flex gap-4",children:[(0,s.jsx)(o.p,{value:N,onChange:j,placeholder:"메시지를 입력하세요",className:"flex-1 px-6 py-4 text-base transition-all border-neutral-300 rounded-3xl focus:ring-2 focus:ring-neutral-900 focus:border-transparent",disabled:C}),(0,s.jsx)(i.$,{type:"submit",disabled:C||!N.trim(),className:"px-8 py-4 transition-all duration-300 shadow-md bg-neutral-900 hover:bg-neutral-800 rounded-3xl hover:shadow-lg",children:(0,s.jsx)(g.A,{className:"w-5 h-5"})})]}),(0,s.jsx)("div",{className:"flex items-center justify-center mt-6",children:(0,s.jsx)("p",{className:"px-6 py-3 text-sm rounded-full text-neutral-500 bg-neutral-100",children:"AI 상담사와 대화 중 • 응급상황 시 전문기관에 연락하세요"})})]})})]})})}},2523:(e,t,r)=>{"use strict";r.d(t,{p:()=>l});var s=r(5155),a=r(2115),n=r(9434);let l=a.forwardRef((e,t)=>{let{className:r,type:a,...l}=e;return(0,s.jsx)("input",{type:a,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",r),ref:t,...l})});l.displayName="Input"},2731:(e,t,r)=>{"use strict";r.d(t,{k:()=>a});var s=r(5155);function a(e){let{text:t="페이지를 불러오는 중...",size:r="md"}=e;return(0,s.jsx)("div",{className:"min-h-screen bg-neutral-50 flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full border-b-2 border-neutral-900 mx-auto mb-4 ".concat({sm:"h-8 w-8",md:"h-12 w-12",lg:"h-16 w-16"}[r])}),(0,s.jsx)("p",{className:"text-neutral-600",children:t})]})})}},3473:(e,t,r)=>{"use strict";r.d(t,{c:()=>n,q:()=>l});var s=r(1976),a=r(9376);let n=[{id:"empathetic",name:"AGENT | GONG",title:"공감형 상담사",type:"공감형 상담사",description:"감정을 이해하고 공감하며, 따뜻한 지지와 위로를 제공하는 상담 방식입니다.",icon:s.A,color:"bg-empathetic",lightColor:"bg-empathetic-light",borderColor:"border-empathetic/20",iconBgColor:"bg-pink-500",features:["감정 공감","심리적 지지","스트레스 완화","정서적 안정"],approach:"안전하고 따뜻한 환경에서 자유롭게 감정을 표현할 수 있도록 돕습니다.",personality:"따뜻하고 공감적인 성향으로, 내담자의 감정을 깊이 이해하고 위로를 제공합니다.",greeting:e=>"안녕하세요 ".concat(e,"님, AGENT | GONG입니다. 편안한 마음으로 이야기를 나누어 보세요. 오늘은 어떤 일로 상담을 원하시나요?")},{id:"analytical",name:"AGENT | SOL",title:"해결중심 상담사",type:"해결중심 상담사",description:"논리적 분석을 통해 구체적이고 실행 가능한 해결책을 제시하는 상담 방식입니다.",icon:a.A,color:"bg-analytical",lightColor:"bg-analytical-light",borderColor:"border-analytical/20",iconBgColor:"bg-blue-500",features:["문제 분석","해결책 제시","목표 설정","실행 계획"],approach:"체계적인 방법으로 문제를 분석하고 단계별 해결 방안을 제시합니다.",personality:"논리적이고 체계적인 성향으로, 명확한 분석과 실용적인 해결책을 제공합니다.",greeting:e=>"안녕하세요 ".concat(e,"님, AGENT | SOL입니다. 오늘 어떤 문제에 대해 함께 이야기해볼까요? 구체적으로 말씀해 주시면 도움이 되겠습니다.")}],l=[{icon:"Shield",title:"완전한 개인정보 보호",description:"모든 대화는 안전하게 보호됩니다",iconBgColor:"bg-green-100",iconColor:"text-green-600"},{icon:"Clock",title:"24시간 이용 가능",description:"언제든지 필요할 때 상담받으세요",iconBgColor:"bg-blue-100",iconColor:"text-blue-600"},{icon:"CheckCircle2",title:"전문적인 상담",description:"검증된 상담 기법을 적용합니다",iconBgColor:"bg-purple-100",iconColor:"text-purple-600"}]},6695:(e,t,r)=>{"use strict";r.d(t,{BT:()=>d,Wu:()=>c,ZB:()=>o,Zp:()=>l,aR:()=>i});var s=r(5155),a=r(2115),n=r(9434);let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...a})});l.displayName="Card";let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex flex-col space-y-1.5 p-6",r),...a})});i.displayName="CardHeader";let o=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-2xl font-semibold leading-none tracking-tight",r),...a})});o.displayName="CardTitle";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",r),...a})});d.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("p-6 pt-0",r),...a})});c.displayName="CardContent",a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,s.jsx)("div",{ref:t,className:(0,n.cn)("flex items-center p-6 pt-0",r),...a})}).displayName="CardFooter"},7070:(e,t,r)=>{Promise.resolve().then(r.bind(r,1609))},9434:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var s=r(2596),a=r(9688);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,s.$)(t))}}},e=>{e.O(0,[223,303,441,964,358],()=>e(e.s=7070)),_N_E=e.O()}]);